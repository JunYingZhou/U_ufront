<template>
    <view class="community-container">
        <!-- é¡¶éƒ¨å¯¼èˆª -->
        <view class="nav-bar">
            <text class="title">ç¤¾åŒºåˆ—è¡¨</text>
        </view>

        <!-- ç¤¾åŒºåˆ—è¡¨ -->
        <view class="community-list">
            <view class="community-item" v-for="community in communities" :key="community.id">
                <image class="community-icon" :src="community.icon" />
                <view class="community-info">
                    <text class="community-name">{{ community.name }}</text>
                    <text class="community-desc">{{ community.description }}</text>
                    <text class="community-members">ğŸ‘¥ {{ community.members }} äºº</text>
                </view>
                <view class="join-btn" @click="joinCommunity(community.id)">åŠ å…¥</view>
            </view>
        </view>
    </view>
</template>

<script setup lang="ts">
import { ref } from "vue";

// å‡æ•°æ®
const communities = ref([
    {
        id: 1,
        name: "ç½‘ç»œåˆ·å•ç¤¾åŒº",
        description: "è®¨è®ºå„ç§ç”µä¿¡åˆ·å•è¯ˆéª—æ¡ˆä¾‹ã€ç»éªŒäº¤æµï¼Œå‘ç°æœ€æ–°çš„åˆ·å•è¯ˆéª—ã€‚",
        members: 8523,
        icon: "http://117.72.78.239:9000/zjyminio/OIP.jpg"
    },
    {
        id: 2,
        name: "æµ·å¤–æ¶ˆè´¹ç¤¾åŒº",
        description: "åˆ†äº«æµ·å¤–è´­ç‰©é™·é˜±ã€‚",
        members: 4321,
        icon: "http://117.72.78.239:9000/zjyminio/OIP (1).jpg"
    },
    {
        id: 3,
        name: "ç½‘ç»œæƒ…æ„Ÿç¤¾åŒº",
        description: "äº¤æµæƒ…æ„Ÿè¯é¢˜ï¼Œè§£å†³æ‹çˆ±ã€å©šå§»ã€äº¤å‹çš„æ–°å‹ç”µä¿¡è¯ˆéª—æ¡ˆä¾‹ã€‚",
        members: 10234,
        icon: "http://117.72.78.239:9000/zjyminio/OIP (2).jpg"
    },
    {
        id: 4,
        name: "äº²å­å€Ÿè´·ç¤¾åŒº",
        description: "è®¨è®ºå®¶åº­ç»æµã€è‚²å„¿èµ„é‡‘è§„åˆ’ï¼Œåˆ†äº«å€Ÿè´·ç»éªŒçš„ç½‘ç»œè¯ˆéª—ã€‚",
        members: 5678,
        icon: "http://117.72.78.239:9000/zjyminio/OIP (3).jpg"
    }
]);

const joinCommunity = (communityId: number) => {
    // TODO: åŠ å…¥ç¤¾åŒº
    uni.navigateTo({ url: `/pages/communityDetail/index` });
}

</script>

<style scoped>
/* å®¹å™¨ */
.community-container {
    padding: 10px;
    background-color: #f5f5f5;
}

/* é¡¶éƒ¨å¯¼èˆª */
.nav-bar {
    display: flex;
    justify-content: center;
    align-items: center;
    height: 50px;
    background-color: #eb872a;
    color: white;
    font-size: 18px;
    font-weight: bold;
}

/* ç¤¾åŒºåˆ—è¡¨ */
.community-list {
    margin-top: 10px;
}

/* æ¯ä¸ªç¤¾åŒº */
.community-item {
    display: flex;
    align-items: center;
    background: #fff;
    border-radius: 10px;
    padding: 15px;
    margin-bottom: 10px;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
}

/* ç¤¾åŒºå›¾æ ‡ */
.community-icon {
    width: 50px;
    height: 50px;
    border-radius: 50%;
    margin-right: 10px;
}

/* ç¤¾åŒºä¿¡æ¯ */
.community-info {
    flex: 1;
    display: flex;
    flex-direction: column;
}

.community-name {
    font-size: 16px;
    font-weight: bold;
}

.community-desc {
    font-size: 12px;
    color: gray;
    margin: 5px 0;
}

/* æˆå‘˜æ•°é‡ */
.community-members {
    font-size: 12px;
    color: #eb872a;
}

/* åŠ å…¥æŒ‰é’® */
.join-btn {
    background-color: #eb872a;
    color: white;
    border: none;
    padding: 5px 10px;
    border-radius: 5px;
    cursor: pointer;
    font-size: 14px;
}
</style>
